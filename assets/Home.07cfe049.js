import{B as M}from"./BlogHeader.369facb6.js";import{_ as $,d as B,P as E,i as O,r as V,c as I,t as w,a as g,b as C,e as r,f as v,g as f,h as p,F as k,j as b,n as h,k as N,l as S,o as l,w as y}from"./index.fb3868c0.js";import{b as R}from"./blog_config.bd5f3422.js";const L=(e,t=1,a=10,c=10)=>{const o=Math.ceil(e/a);t<1?t=1:t>o&&(t=o);let n,i;if(o<=c)n=1,i=o;else{const d=Math.floor(c/2),m=Math.ceil(c/2)-1;t<=d?(n=1,i=c):t+m>=o?(n=o-c+1,i=o):(n=t-d,i=t+m)}const u=(t-1)*a,P=Math.min(u+a-1,e-1),s=Array.from(Array(i+1-n).keys()).map(d=>n+d);return{totalItems:e,currentPage:t,pageSize:a,totalPages:o,startPage:n,endPage:i,startIndex:u,endIndex:P,pages:s}},{VUE_APP_POSTS_PER_PAGE:T,VUE_APP_MAIN_BG_CSS_COLOR:U,VUE_APP_MAIN_TEXT_CSS_COLOR:H}=R,j=B({components:{PatchMeta:E,BlogHeader:M},props:{section:{type:String,default:""}},setup(e){const t=O("postsIndex",[]),a=V({currentPage:1}),c=I(()=>{const o=e.section?t.filter(({section:_})=>_===e.section):t,{startPage:n,endPage:i,startIndex:u,endIndex:P}=L(o.length,a.currentPage,T),s=a.currentPage-1>=n?a.currentPage-1:0,d=a.currentPage+1<=i?a.currentPage+1:0,m=[s,a.currentPage,d].filter(_=>_>n&&_<i),A=o.slice(u,P+1);return{startPage:n,midPages:m,endPage:i,visiblePosts:A}});return{...w(a),pageStatus:c,VUE_APP_MAIN_BG_CSS_COLOR:U,VUE_APP_MAIN_TEXT_CSS_COLOR:H}}}),G={key:1},F={key:2,class:"text-center display-4 text-capitalize my-5"},X={class:"text-left m-0 p-0"},D={class:"m-0 p-0 text-right font-weight-bold"},q={class:"font-weight-light mt-1"},z={key:3,class:"pagination justify-content-center mb-5 pb-5",style:{cursor:"pointer"}},J={class:"page-link"},K=["onClick"],Q={class:"page-link"},W={class:"page-link"};function Y(e,t,a,c,o,n){const i=S("PatchMeta"),u=S("BlogHeader"),P=S("router-link");return l(),g(k,null,[C(i,{title:e.section?e.section:"Minimal Vue3 + Markdown blog engine"},null,8,["title"]),r("div",{style:N(`background-color: ${e.VUE_APP_MAIN_BG_CSS_COLOR}; color: ${e.VUE_APP_MAIN_TEXT_CSS_COLOR};`)},[e.section?f("",!0):(l(),v(u,{key:0,class:"mb-5"})),e.section?f("",!0):(l(),g("hr",G)),e.section?(l(),g("p",F," [ "+p(e.section)+" ] ",1)):f("",!0),(l(!0),g(k,null,b(e.pageStatus.visiblePosts,s=>(l(),g("div",{key:s.id,class:"container markdown-body p-3 p-md-4"},[C(P,{to:`/${s.section}/${s.id}`,class:"text-reset"},{default:y(()=>[r("h3",X,p(s.title),1)]),_:2},1032,["to"]),r("p",{class:h(["font-weight-light font-italic m-0 p-0",e.section?"mb-3":"text-right"])},p(s.date),3),e.section?f("",!0):(l(),v(P,{key:0,to:`/${s.section}`,class:"text-reset"},{default:y(()=>[r("h6",D," #"+p(s.section),1)]),_:2},1032,["to"])),r("p",q,p(s.description),1)]))),128)),e.pageStatus.endPage>e.pageStatus.startPage?(l(),g("ul",z,[r("li",{class:h(["page-item",e.currentPage==e.pageStatus.startPage?"active":""]),onClick:t[0]||(t[0]=s=>e.currentPage=e.pageStatus.startPage)},[r("a",J,p(e.pageStatus.startPage),1)],2),(l(!0),g(k,null,b(e.pageStatus.midPages,(s,d)=>(l(),g("li",{key:d,class:h(["page-item",e.currentPage==s?"active":""]),onClick:m=>e.currentPage=s},[r("a",Q,p(s),1)],10,K))),128)),r("li",{class:h(["page-item",e.currentPage==e.pageStatus.endPage?"active":""]),onClick:t[1]||(t[1]=s=>e.currentPage=e.pageStatus.endPage)},[r("a",W,p(e.pageStatus.endPage),1)],2)])):f("",!0)],4)],64)}var te=$(j,[["render",Y]]);export{te as default};
