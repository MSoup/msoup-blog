import{_ as M,r as k,o as r,c as l,a as C,w as v,b as c,d as A,P as B,i as E,e as O,f as V,t as I,g as $,h as m,j as u,F as S,k as y,n as h,l as w}from"./index.917e99f8.js";import{b as N}from"./blog_config.bd5f3422.js";const R={},L={class:"text-center my-5"},T=c("p",{class:"display-4"}," MSoup's Blog ",-1);function U(e,t){const o=k("router-link");return r(),l("div",L,[C(o,{to:"/",class:"text-reset text-decoration-none"},{default:v(()=>[T]),_:1})])}var H=M(R,[["render",U]]);const j=(e,t=1,o=10,d=10)=>{const n=Math.ceil(e/o);t<1?t=1:t>n&&(t=n);let a,i;if(n<=d)a=1,i=n;else{const g=Math.floor(d/2),P=Math.ceil(d/2)-1;t<=g?(a=1,i=d):t+P>=n?(a=n-d+1,i=n):(a=t-g,i=t+P)}const p=(t-1)*o,_=Math.min(p+o-1,e-1),s=Array.from(Array(i+1-a).keys()).map(g=>a+g);return{totalItems:e,currentPage:t,pageSize:o,totalPages:n,startPage:a,endPage:i,startIndex:p,endIndex:_,pages:s}},{VUE_APP_POSTS_PER_PAGE:G,VUE_APP_MAIN_BG_CSS_COLOR:F,VUE_APP_MAIN_TEXT_CSS_COLOR:X}=N,D=A({components:{PatchMeta:B,BlogHeader:H},props:{section:{type:String,default:""}},setup(e){const t=E("postsIndex",[]),o=O({currentPage:1}),d=V(()=>{const n=e.section?t.filter(({section:f})=>f===e.section):t,{startPage:a,endPage:i,startIndex:p,endIndex:_}=j(n.length,o.currentPage,G),s=o.currentPage-1>=a?o.currentPage-1:0,g=o.currentPage+1<=i?o.currentPage+1:0,P=[s,o.currentPage,g].filter(f=>f>a&&f<i),b=n.slice(p,_+1);return{startPage:a,midPages:P,endPage:i,visiblePosts:b}});return{...I(o),pageStatus:d,VUE_APP_MAIN_BG_CSS_COLOR:F,VUE_APP_MAIN_TEXT_CSS_COLOR:X}}}),q={key:1},z={key:2,class:"text-center display-4 text-capitalize my-5"},J={class:"text-left m-0 p-0"},K={class:"m-0 p-0 text-right font-weight-bold"},Q={class:"font-weight-light mt-1"},W={key:3,class:"pagination justify-content-center mb-5 pb-5",style:{cursor:"pointer"}},Y={class:"page-link"},Z=["onClick"],x={class:"page-link"},ee={class:"page-link"};function te(e,t,o,d,n,a){const i=k("PatchMeta"),p=k("BlogHeader"),_=k("router-link");return r(),l(S,null,[C(i,{title:e.section?e.section:"Minimal Vue3 + Markdown blog engine"},null,8,["title"]),c("div",{style:w(`background-color: ${e.VUE_APP_MAIN_BG_CSS_COLOR}; color: ${e.VUE_APP_MAIN_TEXT_CSS_COLOR};`)},[e.section?m("",!0):(r(),$(p,{key:0,class:"mb-5"})),e.section?m("",!0):(r(),l("hr",q)),e.section?(r(),l("p",z," [ "+u(e.section)+" ] ",1)):m("",!0),(r(!0),l(S,null,y(e.pageStatus.visiblePosts,s=>(r(),l("div",{key:s.id,class:"container markdown-body p-3 p-md-4"},[C(_,{to:`/${s.section}/${s.id}`,class:"text-reset"},{default:v(()=>[c("h3",J,u(s.title),1)]),_:2},1032,["to"]),c("p",{class:h(["font-weight-light font-italic m-0 p-0",e.section?"mb-3":"text-right"])},u(s.date),3),e.section?m("",!0):(r(),$(_,{key:0,to:`/${s.section}`,class:"text-reset"},{default:v(()=>[c("h6",K," #"+u(s.section),1)]),_:2},1032,["to"])),c("p",Q,u(s.description),1)]))),128)),e.pageStatus.endPage>e.pageStatus.startPage?(r(),l("ul",W,[c("li",{class:h(["page-item",e.currentPage==e.pageStatus.startPage?"active":""]),onClick:t[0]||(t[0]=s=>e.currentPage=e.pageStatus.startPage)},[c("a",Y,u(e.pageStatus.startPage),1)],2),(r(!0),l(S,null,y(e.pageStatus.midPages,(s,g)=>(r(),l("li",{key:g,class:h(["page-item",e.currentPage==s?"active":""]),onClick:P=>e.currentPage=s},[c("a",x,u(s),1)],10,Z))),128)),c("li",{class:h(["page-item",e.currentPage==e.pageStatus.endPage?"active":""]),onClick:t[1]||(t[1]=s=>e.currentPage=e.pageStatus.endPage)},[c("a",ee,u(e.pageStatus.endPage),1)],2)])):m("",!0)],4)],64)}var ne=M(D,[["render",te]]);export{ne as default};
